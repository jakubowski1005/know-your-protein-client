(this["webpackJsonpknow-your-protein-client"]=this["webpackJsonpknow-your-protein-client"]||[]).push([[0],{233:function(e,t,a){e.exports=a.p+"static/media/genetic.a1343fbe.svg"},255:function(e,t,a){e.exports=a(418)},260:function(e,t,a){},261:function(e,t,a){},418:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(74),c=a.n(l),o=(a(260),a(17)),u=a(18),i=a(23),s=a(24),m=a(25),d=(a(261),a(75)),p=a(67),h=a(451),b=a(39),E=a(428),f=a(441),v=a(90),g=a(436),F=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(s.a)(t).call(this))).state={activeItem:"home",userLoggedIn:!1},e.handleItemClick=e.handleItemClick.bind(Object(b.a)(e)),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleItemClick",value:function(e,t){var a=t.name;this.setState({activeItem:a})}},{key:"render",value:function(){var e=this.state.activeItem;return r.a.createElement(E.a,{fluid:!0},r.a.createElement(f.a,{pointing:!0,secondary:!0,inverted:!0,color:"red",size:"massive"},r.a.createElement(f.a.Item,{name:"home",active:"home"===e,onClick:this.handleItemClick,as:d.b,to:"/"},r.a.createElement(v.a,{name:"flask"})," Know your protein"),!this.state.userLoggedIn&&r.a.createElement(f.a.Menu,{position:"right",width:6},r.a.createElement(f.a.Item,{name:"signin",active:"signin"===e,onClick:this.handleItemClick,as:d.b,to:"/login"},"Sign In"),r.a.createElement(f.a.Item,{name:"signup",active:"signup"===e,onClick:this.handleItemClick,as:d.b,to:"/register"},"Sign up")),this.state.userLoggedIn&&r.a.createElement(f.a.Menu,{position:"right",width:6},r.a.createElement(g.a,{item:!0,trigger:r.a.createElement("span",null,r.a.createElement(v.a,{name:"user"})," Profile")},r.a.createElement(g.a.Menu,null,r.a.createElement(g.a.Item,null," Spectrum 1 "),r.a.createElement(g.a.Item,null," Spectrum 2 "))),r.a.createElement(f.a.Item,{name:"logout",active:"logout"===e,onClick:this.handleLogout,as:d.b,to:"/logout"},"Logout"))))}}]),t}(n.Component),O=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"login")}}]),t}(n.Component),j=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"register")}}]),t}(n.Component),y=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"logout")}}]),t}(n.Component),k=a(445),C=a(244),D=a(233),w=a.n(D),I=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{style:{padding:"40px"}},r.a.createElement(k.a,{centered:!0},r.a.createElement(k.a.Column,{width:4},r.a.createElement(C.a,{src:w.a,size:"massive"})),r.a.createElement(k.a.Column,{width:8,style:x},r.a.createElement("p",null,"drag the spectra and simply analyze your protein")))))}}]),t}(n.Component),x={padding:"30px 0 30px",fontSize:"2rem",color:"grey",fontStyle:"Lato, sans-serif"},S=a(446),B=a(442),z=a(243),R=a(447),L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={loaded:!1,error:"",dataset:null},a.parseToJSON=a.parseToJSON.bind(Object(b.a)(a)),a.processButtonClicked=a.processButtonClicked.bind(Object(b.a)(a)),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"parseToJSON",value:function(e){var t,a=this,n=new FileReader;n.readAsText(e[0]),n.addEventListener("loadend",(function(){t=function(e){var t=e.split(/\r\n|\n/),a=[],n=[],r=[];(function(e){for(var t=e.split(/(?=(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/),a=0,n=0;n<t.length;n++)","===t[n]&&a++;return a})(t[0])>1&&(t=function(e){for(var t=[],a=0;a<e.length;a++){for(var n=e[a].split(/(?=(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/),r=[],l=0;l<n.length;l++)","===n[l]&&(n[l]="."),r.push(n[l]);var c=r.join("");t.push(c)}return t}(t));var l=function(e){for(var t=e.split(/(?=(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/),a=0;a<t.length;a++)if(" "===t[a]||","===t[a]||";"===t[a]||"  "===t[a])return t[a];return","}(t[0]);for(;t.length;)a.push(t.shift().split(l));for(var c=0;c<a.length;c++)n.push(parseFloat(a[c][0])),r.push(parseFloat(a[c][1]));return{x:n,y:r}}(n.result),a.setState({dataset:t})}))}},{key:"processButtonClicked",value:function(){null!==this.state.dataset&&this.props.process(this.state.dataset)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{icon:!0},this.state.loaded?r.a.createElement(v.a,{name:"check"}):r.a.createElement(v.a,{name:"file alternate"}),r.a.createElement(z.a,{onDrop:function(t){e.setState({loaded:!0}),e.parseToJSON(t)}},(function(t){var a=t.getRootProps,n=t.getInputProps;return r.a.createElement("section",null,r.a.createElement("div",a(),r.a.createElement("input",n()),e.state.loaded?r.a.createElement("p",null,"File uploaded, click button to calculate"):r.a.createElement("p",null,"Drag your CSV file here or click to upload")))}))),r.a.createElement(B.a,{onClick:this.processButtonClicked,color:"red",size:"big"},"Process"))}}]),t}(n.Component);var P=a(439),M=a(429),A=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{active:!0,inverted:!0},r.a.createElement(M.a,{indeterminate:!0,size:"massive"},"Calculating...")))}}]),t}(n.Component),J=a(430),T=a(437),H=a(435),N=a(432),W=a(449),K=a(443),U=a(438),V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={data:a.props.data},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=function(e){for(var t=e.structures,a=[],n=0;n<t.length;n++)a.push({name:t[n].name,part:_(t[n].absorbance/t[t.length-1].absorbance*100,2),maxLocation:t[n].data.x[t[n].bandMaxIndex]});return a}(this.state.data),t=["#002f8c","#00a60b","#a66f00","#008aa6","#4200a6","#8c0000","#000000"],a=function(e){for(var t=[],a=["#002f8c","#00a60b","#a66f00","#008aa6","#4200a6","#8c0000","#000000"],n=0;n<e.structures.length;n++)t.push({name:e.structures[n].name,symbol:{fill:a[n]}});return t}(this.state.data);return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{as:"h2",style:{padding:"10px 0 20px"}},"Results"),r.a.createElement(J.a,null),r.a.createElement(T.a,{color:"red"},r.a.createElement(T.a.Header,null,r.a.createElement(T.a.Row,null,r.a.createElement(T.a.HeaderCell,null,"L.p."),r.a.createElement(T.a.HeaderCell,null,"Structure"),r.a.createElement(T.a.HeaderCell,null,"Percentage"),r.a.createElement(T.a.HeaderCell,null,"Peak Location [cm-1]"))),r.a.createElement(T.a.Body,null,this.state.data.structures.map((function(t){return"Amide I"===t.name?r.a.createElement(T.a.Row,{key:t.clientId,negative:!0},r.a.createElement(T.a.Cell,null,t.clientId),r.a.createElement(T.a.Cell,null,t.name),r.a.createElement(T.a.Cell,null,e[t.clientId-1].part),r.a.createElement(T.a.Cell,null,_(t.peakPosition,1))):r.a.createElement(T.a.Row,{key:t.clientId},r.a.createElement(T.a.Cell,null,t.clientId),r.a.createElement(T.a.Cell,null,t.name),r.a.createElement(T.a.Cell,null,e[t.clientId-1].part),r.a.createElement(T.a.Cell,null,_(t.peakPosition,1)))})))),r.a.createElement(J.a,null),r.a.createElement(H.a,null,this.state.data.structures.map((function(e){return r.a.createElement(N.a,{key:e.clientId,style:{data:{stroke:t[e.clientId-1]},labels:{fontSize:10}},data:$(e.data.x,e.data.y),name:e.name,labels:function(t){var a=t.datum;return a.x===e.peakPosition?_(a.x,1):null}})})),r.a.createElement(W.a,{label:"Wavenumber [cm-1]"}),r.a.createElement(W.a,{dependentAxis:!0,axisLabelComponent:r.a.createElement(K.a,{dy:10,text:"Absorbance [-]"})})),r.a.createElement(U.a,{x:50,title:"Legend",centerTitle:!0,orientation:"horizontal",gutter:10,itemsPerRow:2,style:{border:{stroke:"black"},title:{fontSize:20}},data:a}))}}]),t}(n.Component);function $(e,t){for(var a=[],n=0;n<e.length;n++)a.push({x:e[n],y:t[n]});return a}function _(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}var q=a(240),G=a.n(q),Q="http://".concat("know-your-protein.herokuapp.com"),X=new(function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"analyzeSpectrum",value:function(e){return G.a.post(Q+"/analyze",e)}}]),e}()),Y=a(241),Z=a.n(Y),ee=a(242),te=a.n(ee),ae=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(s.a)(t).call(this))).state={processing:!1,results:!1,data:null},e.retrieveResults=e.retrieveResults.bind(Object(b.a)(e)),e.download=e.download.bind(Object(b.a)(e)),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"retrieveResults",value:function(e){var t=this;this.setState({processing:!0}),X.analyzeSpectrum(e).then((function(e){t.setState({processing:!1,results:!0,data:e.data.body})})).catch((function(e){return console.log(e)}))}},{key:"download",value:function(){var e=document.getElementById("download");Z()(e,{y:350}).then((function(e){var t={pageSize:"A4",content:[{image:e.toDataURL(),width:500}]};te.a.createPdf(t).download("Protein_Details.pdf")}))}},{key:"render",value:function(){return r.a.createElement(S.a,{placeholder:!0,style:{width:"60%",minWidth:"220mm"}},!this.state.processing&&!this.state.results&&r.a.createElement(L,{process:this.retrieveResults}),this.state.processing&&r.a.createElement(A,null),this.state.results&&r.a.createElement("div",{id:"download"},r.a.createElement(V,{data:this.state.data})),this.state.results&&r.a.createElement(B.a,{color:"red",size:"large",onClick:this.download},r.a.createElement(v.a,{name:"download"}),"Download as PDF"))}}]),t}(n.Component),ne=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(k.a,{centered:!0},r.a.createElement(k.a.Row,null,r.a.createElement(I,null),r.a.createElement(J.a,null)),r.a.createElement(k.a.Row,null,r.a.createElement(ae,null)))}}]),t}(n.Component),re=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(F,null)),r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/",exact:!0,component:ne}),r.a.createElement(p.a,{path:"/login",component:O}),r.a.createElement(p.a,{path:"/register",component:j}),r.a.createElement(p.a,{path:"/logout",component:y})))))}}]),t}(n.Component),le=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(re,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(417);c.a.render(r.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[255,1,2]]]);
//# sourceMappingURL=main.977bcd32.chunk.js.map