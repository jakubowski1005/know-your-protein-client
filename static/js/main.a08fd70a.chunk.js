(this["webpackJsonpknow-your-protein-client"]=this["webpackJsonpknow-your-protein-client"]||[]).push([[0],{234:function(e,t,a){e.exports=a.p+"static/media/genetic.a1343fbe.svg"},255:function(e,t,a){e.exports=a(418)},260:function(e,t,a){},261:function(e,t,a){},418:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(75),c=a.n(l),i=(a(260),a(20)),o=a(21),u=a(23),s=a(24),m=a(25),d=(a(261),a(76)),p=a(68),h=a(449),b=a(36),E=a(428),f=a(441),g=a(69),v=a(438),j="/know-your-protein-client",O="https://".concat("know-your-protein.herokuapp.com"),k=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).state={activeItem:"home",userLoggedIn:!1},e.handleItemClick=e.handleItemClick.bind(Object(b.a)(e)),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleItemClick",value:function(e,t){var a=t.name;this.setState({activeItem:a})}},{key:"render",value:function(){var e=this.state.activeItem;return r.a.createElement(E.a,{fluid:!0},r.a.createElement(f.a,{pointing:!0,secondary:!0,inverted:!0,color:"red",size:"massive"},r.a.createElement(f.a.Item,{name:"home",active:"home"===e,onClick:this.handleItemClick,as:d.b,to:"".concat(j,"/")},r.a.createElement(g.a,{name:"flask"})," Know your protein"),!this.state.userLoggedIn&&r.a.createElement(f.a.Menu,{position:"right",width:6},r.a.createElement(f.a.Item,{name:"signin",active:"signin"===e,onClick:this.handleItemClick,as:d.b,to:"".concat(j,"/login")},"Sign In"),r.a.createElement(f.a.Item,{name:"signup",active:"signup"===e,onClick:this.handleItemClick,as:d.b,to:"".concat(j,"/register")},"Sign up")),this.state.userLoggedIn&&r.a.createElement(f.a.Menu,{position:"right",width:6},r.a.createElement(v.a,{item:!0,trigger:r.a.createElement("span",null,r.a.createElement(g.a,{name:"user"})," Profile")},r.a.createElement(v.a.Menu,null,r.a.createElement(v.a.Item,null," Spectrum 1 "),r.a.createElement(v.a.Item,null," Spectrum 2 "))),r.a.createElement(f.a.Item,{name:"logout",active:"logout"===e,onClick:this.handleLogout,as:d.b,to:"".concat(j,"/logout")},"Logout"))))}}]),t}(n.Component),F=a(436),y=a(429),C=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).mail=e.mail.bind(Object(b.a)(e)),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"mail",value:function(){var e="mailto:".concat("jakubowski1005@gmail.com");window.location.assign(e)}},{key:"render",value:function(){return r.a.createElement("div",{style:{backgroundColor:"red",marginTop:"100px"}},r.a.createElement(E.a,{textAlign:"center",fluid:!0},r.a.createElement(F.a,{divided:!0,horizontal:!0,size:"massive",relaxed:"very",verticalAlign:"bottom"},r.a.createElement(F.a.Item,{onClick:this.mail},r.a.createElement(g.a,{link:!0,name:"mail",size:"big",style:{color:"white",paddingTop:"20px"}})),r.a.createElement(F.a.Item,{href:"http://linkedin.com/in/artur-jakubowski/"},r.a.createElement(g.a,{link:!0,name:"linkedin",size:"big",style:{color:"white",paddingTop:"20px"}})),r.a.createElement(F.a.Item,{href:"http://github.com/jakubowski1005"},r.a.createElement(g.a,{link:!0,name:"github",size:"big",style:{color:"white",paddingTop:"20px"}}))),r.a.createElement(y.a,null),r.a.createElement("p",{style:{paddingBottom:"14px",fontSize:"1.5rem"}},"Copyright \xa9 ",(new Date).getFullYear()," Artur Jakubowski. All rights reserved.")))}}]),t}(n.Component),w=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"login")}}]),t}(n.Component),D=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"register")}}]),t}(n.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"logout")}}]),t}(n.Component),x=a(445),S=a(245),z=a(234),B=a.n(z),R=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{style:{padding:"40px"}},r.a.createElement(x.a,{centered:!0},r.a.createElement(x.a.Column,{width:4},r.a.createElement(S.a,{src:B.a,size:"massive"})),r.a.createElement(x.a.Column,{width:8,style:L},r.a.createElement("p",null,"drag the spectra and simply analyze your protein")))))}}]),t}(n.Component),L={padding:"30px 0 30px",fontSize:"2rem",color:"grey",fontStyle:"Lato, sans-serif"},P=a(448),A=a(444),T=a(244),J=a(446),M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={loaded:!1,error:"",dataset:null},a.parseToJSON=a.parseToJSON.bind(Object(b.a)(a)),a.processButtonClicked=a.processButtonClicked.bind(Object(b.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"parseToJSON",value:function(e){var t,a=this,n=new FileReader;n.readAsText(e[0]),n.addEventListener("loadend",(function(){t=function(e){var t=e.split(/\r\n|\n/),a=[],n=[],r=[];(function(e){for(var t=e.split(/(?=(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/),a=0,n=0;n<t.length;n++)","===t[n]&&a++;return a})(t[0])>1&&(t=function(e){for(var t=[],a=0;a<e.length;a++){for(var n=e[a].split(/(?=(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/),r=[],l=0;l<n.length;l++)","===n[l]&&(n[l]="."),r.push(n[l]);var c=r.join("");t.push(c)}return t}(t));var l=function(e){for(var t=e.split(/(?=(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/),a=0;a<t.length;a++)if(" "===t[a]||","===t[a]||";"===t[a]||"  "===t[a])return t[a];return","}(t[0]);for(;t.length;)a.push(t.shift().split(l));for(var c=0;c<a.length;c++)n.push(parseFloat(a[c][0])),r.push(parseFloat(a[c][1]));return{x:n,y:r}}(n.result),a.setState({dataset:t})}))}},{key:"processButtonClicked",value:function(){null!==this.state.dataset&&this.props.process(this.state.dataset)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{icon:!0},this.state.loaded?r.a.createElement(g.a,{name:"check"}):r.a.createElement(g.a,{name:"file alternate"}),r.a.createElement(T.a,{onDrop:function(t){e.setState({loaded:!0}),e.parseToJSON(t)}},(function(t){var a=t.getRootProps,n=t.getInputProps;return r.a.createElement("section",null,r.a.createElement("div",a(),r.a.createElement("input",n()),e.state.loaded?r.a.createElement("p",null,"File uploaded, click button to calculate"):r.a.createElement("p",null,"Drag your CSV file here or click to upload")))}))),r.a.createElement(A.a,{onClick:this.processButtonClicked,color:"red",size:"big"},"Process"))}}]),t}(n.Component);var H=a(440),N=a(430),W=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{active:!0,inverted:!0},r.a.createElement(N.a,{indeterminate:!0,size:"massive"},"Calculating...")))}}]),t}(n.Component),K=a(435),U=a(437),V=a(432),Y=a(451),$=a(442),_=a(439),q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={data:a.props.data},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=function(e){for(var t=e.structures,a=[],n=0;n<t.length;n++)a.push({name:t[n].name,part:Q(t[n].absorbance/t[t.length-1].absorbance*100,2),maxLocation:t[n].data.x[t[n].bandMaxIndex]});return a}(this.state.data),t=["#002f8c","#00a60b","#a66f00","#008aa6","#4200a6","#8c0000","#000000"],a=function(e){for(var t=[],a=["#002f8c","#00a60b","#a66f00","#008aa6","#4200a6","#8c0000","#000000"],n=0;n<e.structures.length;n++)t.push({name:e.structures[n].name,symbol:{fill:a[n]}});return t}(this.state.data);return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{as:"h2",style:{padding:"10px 0 20px"}},"Results"),r.a.createElement(y.a,null),r.a.createElement(K.a,{color:"red"},r.a.createElement(K.a.Header,null,r.a.createElement(K.a.Row,null,r.a.createElement(K.a.HeaderCell,null,"L.p."),r.a.createElement(K.a.HeaderCell,null,"Structure"),r.a.createElement(K.a.HeaderCell,null,"Percentage"),r.a.createElement(K.a.HeaderCell,null,"Peak Location [cm-1]"))),r.a.createElement(K.a.Body,null,this.state.data.structures.map((function(t){return"Amide I"===t.name?r.a.createElement(K.a.Row,{key:t.clientId,negative:!0},r.a.createElement(K.a.Cell,null,t.clientId),r.a.createElement(K.a.Cell,null,t.name),r.a.createElement(K.a.Cell,null,e[t.clientId-1].part),r.a.createElement(K.a.Cell,null,Q(t.peakPosition,1))):r.a.createElement(K.a.Row,{key:t.clientId},r.a.createElement(K.a.Cell,null,t.clientId),r.a.createElement(K.a.Cell,null,t.name),r.a.createElement(K.a.Cell,null,e[t.clientId-1].part),r.a.createElement(K.a.Cell,null,Q(t.peakPosition,1)))})))),r.a.createElement(y.a,null),r.a.createElement(U.a,null,this.state.data.structures.map((function(e){return r.a.createElement(V.a,{key:e.clientId,style:{data:{stroke:t[e.clientId-1]},labels:{fontSize:10}},data:G(e.data.x,e.data.y),name:e.name,labels:function(t){var a=t.datum;return a.x===e.peakPosition?Q(a.x,1):null}})})),r.a.createElement(Y.a,{label:"Wavenumber [cm-1]"}),r.a.createElement(Y.a,{dependentAxis:!0,axisLabelComponent:r.a.createElement($.a,{dy:10,text:"Absorbance [-]"})})),r.a.createElement(_.a,{x:50,title:"Legend",centerTitle:!0,orientation:"horizontal",gutter:10,itemsPerRow:2,style:{border:{stroke:"black"},title:{fontSize:20}},data:a}))}}]),t}(n.Component);function G(e,t){for(var a=[],n=0;n<e.length;n++)a.push({x:e[n],y:t[n]});return a}function Q(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}var X=a(241),Z=a.n(X),ee=new(function(){function e(){Object(i.a)(this,e)}return Object(o.a)(e,[{key:"analyzeSpectrum",value:function(e){return Z.a.post(O+"/analyze",e)}}]),e}()),te=a(242),ae=a.n(te),ne=a(243),re=a.n(ne),le=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).state={processing:!1,results:!1,data:null},e.retrieveResults=e.retrieveResults.bind(Object(b.a)(e)),e.download=e.download.bind(Object(b.a)(e)),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"retrieveResults",value:function(e){var t=this;this.setState({processing:!0}),ee.analyzeSpectrum(e).then((function(e){t.setState({processing:!1,results:!0,data:e.data.body})})).catch((function(e){return console.log(e)}))}},{key:"download",value:function(){var e=document.getElementById("download");ae()(e,{y:350}).then((function(e){var t={pageSize:"A4",content:[{image:e.toDataURL(),width:500}]};re.a.createPdf(t).download("Protein_Details.pdf")}))}},{key:"render",value:function(){return r.a.createElement(P.a,{placeholder:!0,style:{width:"60%",minWidth:"220mm"}},!this.state.processing&&!this.state.results&&r.a.createElement(M,{process:this.retrieveResults}),this.state.processing&&r.a.createElement(W,null),this.state.results&&r.a.createElement("div",{id:"download"},r.a.createElement(q,{data:this.state.data})),this.state.results&&r.a.createElement(A.a,{color:"red",size:"large",onClick:this.download},r.a.createElement(g.a,{name:"download"}),"Download as PDF"))}}]),t}(n.Component),ce=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(x.a,{centered:!0},r.a.createElement(x.a.Row,null,r.a.createElement(R,null),r.a.createElement(y.a,null)),r.a.createElement(x.a.Row,null,r.a.createElement(le,null)))}}]),t}(n.Component),ie=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e="/know-your-protein-client";return r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(k,null)),r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"".concat(e,"/"),exact:!0,component:ce}),r.a.createElement(p.a,{path:"".concat(e,"/login"),component:w}),r.a.createElement(p.a,{path:"".concat(e,"/register"),component:D}),r.a.createElement(p.a,{path:"".concat(e,"/logout"),component:I})),r.a.createElement(C,null))))}}]),t}(n.Component),oe=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ie,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(417);c.a.render(r.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[255,1,2]]]);
//# sourceMappingURL=main.a08fd70a.chunk.js.map